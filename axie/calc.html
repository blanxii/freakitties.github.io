<html>
    <head>
        <title>Axie Breeding Calculator</title>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116189657-1"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-116189657-1');
        </script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT" crossorigin="anonymous"></script>
        <script src="../../bignumber.min.js"></script>
        <script src="traitmapping.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js" integrity="sha384-r3v0/sXe5ocDydKBFcxP390rex2dEm9qN3Yv68S6uNX/F3b/RtMdGMUADZ8tabkz" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.18/css/jquery.dataTables.min.css" integrity="sha384-1UXhfqyOyO+W+XsGhiIFwwD3hsaHRz2XDGMle3b8bXPH5+cMsXVShDoHA3AH/y/p" crossorigin="anonymous">

        <style>
            body {
                background-color: #181818;
                color: #ffffff;
            }
        </style>
        <style>
            .dropdown-menu>li>a, .dropdown-menu {
                color: white;
                background-color: #6c757d;
            }
            .circle-eyes {
                background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAwCAYAAABT9ym6AAAAAXNSR0IArs4c6QAABNZJREFUaAXtmVuIVWUUx89xxsuo6IOmozSTF8IYNUUzE1F7yCukoQ9C2IMEwoQQhUKKgVmUWg8KofOkRNBLRQ+KgpcB8xKNoAw2GZYSOmDZTD1MXvI2/f7D2ae999mX7/v22eJDC36zv72+tf5r7XP25Xx7CoUcrbe3tx98DdtyLJO/NAfwBsgewpz8K+ZQgcaHQxd49l0OZfKXpPst3hH4tovyr1zFCjReBzd8B+ANj1WxTP5SdN3sdR6xnZZ/B74KNNAflsEQn9toSE473IXz8A0cgougi36PkYgviJzRsNDnMh+SOA9kumB1vg8zySZuMLwCQ8Px+NTQy2F/3D6xjbAH7oBsUFxsrJ+kl/pS//vzG8M1sQlVnKDOQHgXboHfjD7MQCtkP+dX8I1bGY8LBFdxB+25cMlXzxveZ9AvrlQxboKkeuaux8x34J9dLBZvRs2XCk5nTg/BRrgHv8Bpcn5mG2nkPc3EWRgeEXCV3Kci/OkuhHvAb/+w8yFE3gDwN8FHcBXiTDeCDTAmqgP8Y+ELCNvxqHgjH0rnfGo6pfSJBQxfEVZCG9iYTpUD8EJAsLSDfwH4T7GWqDgjH0L7QXeMtyBwGrKvH4Sr4QJktSMIzAs3hU93wL0l8ebwvPE+AotgcjgB30L4EaptRxFsiqi3DP8zYb/zPmJPwpeQp91FfCdUPIecG/cSEa2BjfA3PCq7RqFVXg+Zt4g1wLeO3T8g7zp0O+YrbR9E3iWNDw6B5WDbRAc570AT1HjFGOtpPQe2g34l2NhFgp/1tIy3JNXCbptKxP4BayH26es1QMxQ2Aq6HkztNoHrPI3ULcEqcthUvRSnW/D4VPFQADkLQB+AjX1CcOBREJItFAjQ8rTNRpXYKzCiQszQQe4MuAk29hnB0d88E/omvrdRI1Y/WaYY9hwbhsYay7oK31chiFM/M7QAsrVdFWKODgqfsS1O/OZAORxvO4jcI+eJgFCGHbQWO/TwkJz5fWUZ6Dlhe46qZmuGvitS0dPS+i8JW9pPxNfqglkPgyuU0x1H00PMI1hraM1ywjyjHDmJ0QodyIqyy25wzS7cKNpVs+9AtIJzsW6XpJScrpT5uOlGfSOdcbMpfudnR4LuyIS5pKlOHcjBpIiEOddvMkGy0JA0mTB3UE/ziaAHm609LnetX2l8QN9BMvjA9iiI13NkVMKnZDWF1hKHHpSyvFyIHd3DT8lrabvLIhkH1HV5sn9aURahetAPQBvTKTm1QszSgcZrNkVLsVrf948sxcR40BLTxnTwrncbXaMzIfxqNK2+zp7kVSMB40CPfRv7geAJkZ9OgpOcF6HLphCxWislH4RXk8CR0Ao2poZeh/Ly1tMLb4nRkuE9sFkhEt7bAtGnU7iIt09CDbwPeoFgY3rftQkmQ61PbxD7c0Gven4HG+sh+FVPy2mLgF7S3bCp6ovVz2w1/afPZzvUMlo/DLMbQmPhK9sOMsbrOfUx1GU/gpACokvhMuRtJymQeQkdaj+4SwGd69vAZTFGWqLpfddaSH5LEmwp2x7FRsEO0IWY1ToReBOqfxqZHibFR4Dubi43hEvkNcNA03q5x9FMLega+hySviW9C94Fz1ezqVzORZrUKTILZoD+xab1uBZwbdDO+vwB2/8t6hP4F4Z6eP6aCM5jAAAAAElFTkSuQmCC);
                background-repeat: no-repeat;
                background-size: 60%;
                background-position: center;
                overflow:hidden;
                -webkit-border-radius:50%;
                -moz-border-radius:50%;
                border-radius: 50%;
                width: 30px;
                height: 30px;
                background-color: rgb(0, 0, 0) !important;
            }
            .circle-mouth {
                background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAYCAYAAACiNE5vAAAAAXNSR0IArs4c6QAAA/1JREFUWAndmEtsTUEYx90qUW0ioR4lFq14NPGK0hBFSFQRJZqoaMQCkViIx8oCy9o0LLoQVmJRRKOrtolHQkUQKQ2tncY7glbRhnrU/zuZOfnfMXPOnNudSb5833zf/zdz77kzc865I0bEtKGhoQewpG2XHhbgtaQw9AeIf50BX655l89yFSjfS7Fv2E/C4fI9NJZv+C1O6PPFb8UNYtSH0L9DuaS8oG3D4AfAthOfWYhlVpxwqd3lmcBOg/1JMEanwa9JwIq0kXlXHPuLp1KpZ4C7XANY8mkTg38DzT2LzpVK4yG6DfvoElvyVyy5zFK4ikc8r/ogdJPMWZDb48nLyii08HWefA90Y0w+4z4Gy4f98Jj8km0ScHmwLx58q4Of48GK5LSNH1YOg17wmHylaxKw9R78pgj+Rgz/G/VZLt4rjwFyYadgCzWAeD4sqoWHGkQp2DHYRuKL0P8Fc7WnKKRED58Dk+VdQvw69KNaeDZANBp2ElameS8PoBEm7R1ssoYQt0jS0SpJd0JpZHsspvxFByvpnaRrULoP8FMp/1jlbW4J6c4oQR/8DJ2P9BDuMEYN9y3ypUZNd+/rQZFYAPupC/DyS2ZLHV5ujbZfvRP5kUpThZjbVRq7kgsUN5FmLeUlvKlrTg+RLLGXojbaMg0hf9moSXcF1a9b6vuofs5SD7YE8rJEn1vqq4hvM+pykWdLHT4L9sSoS9d5dgTjQnDUAkkqfJJCXAjrl6RqDfShNuik4WXL5KoPNwVxL9WbiT9MeQ55RZWgwKumjvjdDFEcriitDT1EcqB9IrEZrtZiFPaqYjf8BMpHvdAcJF01OLlnywUJ9jC8rLb3MFerIP64Ej2Cz5E8fDasG+Zq1ZpP81AfchEq38IAcrLfpusc4rhHyxfQBHtdGMQVsCLi96Mf1dL2KoTbYHzRa6Jg1B7quUKPpFytVzGglOeGkBGg1urB1xhY0AUne9O2t80hF9l4yUHYYYot/XDV6om3WES2VL1tYgiLYLJ041p4VvA4gNbHgap+ljkdo7bckw/vUAELqNkTlEMp2FN6UvHI1XryIitmVvFNnvxX6PIs/HlPXp4rJgY8ggKYPO75tu08MSB5SnvrC0NXa/DyHsCndNxQ4b87Mg7EcigPxEFUD/7dkdfSzbDY11OZRLUqHSi/FL7AyEV1TV6e+IKHlyiIalspllBO+39WoaHhbsDrL86FuFj24ygSyYVL0maC5+UePup6DlIOnr9oUr4M/Hj54qWeE2qZPIjM0x34pLygskp0S8rL+3b48oQ4KS+rq1Tuq3J/GwfzbfKf2iCJuxCPpb5P+JlE7Yjzqe8TfidRB+I+6vuE/Geoj/7/0fwFUrguAczbYpoAAAAASUVORK5CYII=);
                background-repeat: no-repeat;
                background-size: 70%;
                background-position: center;
                overflow:hidden;
                -webkit-border-radius:50%;
                -moz-border-radius:50%;
                border-radius: 50%;
                width: 30px;
                height: 30px;
                background-color: rgb(0, 0, 0) !important;
            }
            .circle-ears {
                background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAA0CAYAAADmI0o+AAAAAXNSR0IArs4c6QAABCZJREFUWAnNmEtIFlEUx/1ME5+BUmZoRYuCyKJaFBRIRRQVBYVFFAZBBEGPRS3aJLao6IEugqA2QREhEW0koYUVga4qKugdilGSC40eaGb2O0PzOY97Z+7MNx924P/N3HPP+Z//NzP3MZOT85/Y2NhYDbgOPoPqCZeFiCLQBH4C2+onTBgKUmA3+GircRz35k2EMgQsp24LWKapP6TxZ8eNoGogz9EfEGRbsqPAw4oCeY4awQ9gYms8FMk3UbEJ9JioccTIrc6OUaQKtDqKRTldkLgqqsto2w8GoyjxxM5OVBjk88EjT5E4zamJCKNyATgJhuOoUORMzlgYpHXgtYI8rmswI1FULQaX41YPyHsrwmLN/JAuJvcmmCskCdsX4cuNQoogGXFHyOkC2RAlcixhxlcMQTJSroINIJvWL+RGwhAlS8Q1UCVJWbbwW4mgPHAaIfdAEqIew3MANAOd9eo6LD+C5oAukIT1QrIDpIScY0MA6TqtMJLqwdeAZNOuEQLPgmJnMdo7AwjmOWOtc4IngXMBSVG6nhJc6yuCA/++AKJCVw6BsmdqD0gw7RolUK6Sdlmhr0lD1meLskYlQWU42sBKuyPmUR7cPalUqiMkv0bT32377Qm2FUemomQlWGggSmrPlB+Fdad9XK2Nmstq6pZ91640ocEJ8X0a8iY7XW7ldrsR4/iQnAauUo9pLoJkPqzUxL+y/XIrV9iNCMcRYo+DVVFE/eOXDYDO0sJk6Eadr16Ss0TH7PQTNwO4ZnnajUBl8kpXlM6nMaSK0vguuZLTLP4T4nJBB0hPARJF+z5QWbeLhYj3qiiPr5/2ZldiSIP4RgeHNWnSLgS67Xe7i5LA2w4C1alMutNdSSEN4uvAb2BbhaTQWGs7FMdTLloCZHFVmdziw8BaeF1JAQ3iZcvtfcG1/hj+80Bn7sWbKFkf33iin9FWrnMBmqwu8lTFy/FLnU9AZbLYl/i4cS4F8l1BRkYLKPAFGTjIWwSkiNdKcGzzOh3tTi09QfIlxr/l0Ga4O8iVUajbv5XS9w7o7IybLcEWFQ/qquK/E9AnXesTlDJOBfEs8A3EMRlkvufL3l2MV4l4BukUUm4BH7khVRvL2nfDWLMwRJWBTpCJbTWr5oiimnIOwy8D5RjQbV/oMrIBopQzQNh7pSzw+WgdAMNgFEwDpSAJu8JtFN5ohqg2o/8dL0jmO90WO1goibVAt+jGkzOedSO4ekgvPEfHuRI7+wVTZh9lIJAvPGE7kKiKL4RcD7Nuqspa9yJqdU28LOQy9yVjkFWC55pipm65hZm+Jvr/EKQVIJMJ9ZCfNSEPwvJBM4hqFxOSEEyDqtVAPpyEmXzLOBHMlnAvBWUPJp+U7gLVBvEB/jjvrTnKtTCOfgSUkycbTdnfy67lCcvNB46x7C9bGJguLHIwBQAAAABJRU5ErkJggg==);
                background-repeat: no-repeat;
                background-size: 50%;
                background-position: center;
                overflow:hidden;
                -webkit-border-radius:50%;
                -moz-border-radius:50%;
                border-radius: 50%;
                width: 30px;
                height: 30px;
                background-color: rgb(0, 0, 0) !important;
            }
            .circle-horn {
                background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAsCAYAAAA93wvUAAAAAXNSR0IArs4c6QAABRFJREFUaAXFmluoFVUcxvc+amqakkWWFgfJPJEV3UMDs5MEQZZmF6kXJQjxQV+ikhLqoXqI6KEeyiIjeigIsyCIgshI6CU0E6HyWtlFKirFQs3d7zvO6H+vPTNrrdl7Zv/hc9Za/8v3rX1m1syssdHokbVarQk9KpVZhvrjwUCms8Rg14UQMwY8DvezJfhjUi4geBNcl8UkVRKLiPPAFvATmFIJiSkKx1pwBKw0w/U2IR8EO4Hs9jrY4RkNvhQh9mgdnG0ckJ4OvhY7trnNWXEHvltHWE/8c1/FdO3l4VxvyO9o91bfg3tbwn+Q41D1jDBAtCAh1UHX9uhaiA0JnKtEntinxlVNEyKt4DtSRo7PVMNUXBXeKeBfo2NpcUaXXoiWGTI1L+qyZOl0uN8yWr6l3fWtOVcMxdMFTZxbcwNrcMC/RCKMLa6EFgK7mopvbSVEgUXhnwAOS0hi8XcXEq/28RHzScqQHC/15VTtR8dGR9PcIk5ip4NzR2Jo6Jd7z5NwFTHW/qbTLMqpw4eGR6wo2huKePHPB3q8bmhBWARO/AoaybblzvD2ZrPZcsb60d3mkC5kYmc7Y7Y7kc79GtDEF4Kp6mQZhRRzt+P7yun3q+tOXM8USwrEaJ4XM6eZmtQsMEhnRk7CfMbdH2ZvTmytw5x1+yE86pDe6/RtdzjpDGniM5POahth2lmFDht/v5uulhv5I3ZcuoxNR2h6NlyoiR9LlK/EeYudBf28U8cls2l1t10tmtNdVgTzGEv/DaCj7D8FHRhpNhpjOG4gyN4SrmDsrMRvD0dsp8/tLC0LUk3M5zTab4LhdIzjr5r4TjOg7aPPCH4J6LrOe8/uOJVMjdqaaNQt1V1/xD8Pn57n76S9A7SdAfR36W1rOYi1F0juuyF6aqxw4ndJuP7i74Ks00X+PBvMc9Q8XkbH29I4wC3hT46vRAq+ll+u709uaL4uUvc/xL94ModJnAO0mxFj15ws0KcGYj+MEUxs5/4Bg09EFnmyT/MdoUXrGcBuRvjk/07A5A7NDE4Ee33Zxv8z7fEdhWoagPshoyWkuSJXGtk3h1QwMatyi1XogF9fVX4xOnxNvVIXr0kEvOyrYvz7aZ9Z4RwzS8P5mNHgax4iYEZmITtIkK6db3zVjL/wXd7W7kUb3rngqOH3NR8I5qXSJSBmlX84uHgXgWjSA8v3INTWRdNR2d3M85E9RUDxdRSt4lQCtWeDPSDUviBQz+nxRqI+0sXYOwSfH8+Un0G9AbAU/AVCbQ+B0/KrBngo8HwoWxKnr5mvAV2L08CoAJq2EHImgVngQRCz3hDe0m023WNoqxvVoUgTrAdlTavqPSGkxOlj5Odlicj7A1wewhUUQzGdbq+CsqbT1Hu9ERNzm3K1HGDgyqAJxQRRVH/551y2iP4NPj5q6UGjjP1A0pCvfld+CNaA4yXUuTu1HTqoGXs9S8Z2EP16qvfxKOM1Vm84i8GhqMRT+11FaemeWFGM9b1PZw6a9tnBkHb0xFUUIj2tzQG71Q+0kA8QxyNqPU3sIrQcDMzpXRinmB5v14EQ0/5XoVHEfnvPq7kPx3BhobqcCNGXVL2wFNlNPj0kby4qgE/PB5N8dWr1I0gfH7Xw6V6aZfp/aoVG0utZiYx9BGK3mQq5eu5E4GSg3ZzfQGo/hhARvCJNSI4fc5wXkhsbU+VLhVbo28D14AMWoU0+cUxyHDFrgO4YG8n5zpdT1v8/xuG+RTisxxcAAAAASUVORK5CYII=);
                background-repeat: no-repeat;
                background-size: 70%;
                background-position: center;
                overflow:hidden;
                -webkit-border-radius:50%;
                -moz-border-radius:50%;
                border-radius: 50%;
                width: 30px;
                height: 30px;
                background-color: rgb(0, 0, 0) !important;
            }
            .circle-back {
                background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAeCAYAAAB9hg0IAAAAAXNSR0IArs4c6QAAA0pJREFUWAndmNtvDHEUx3erxLXiHqEtQloPWpcIL40XxAsRqiKe3OLd5UW0El544R9AvShxqWc0IRJBItLWrYlbteJFo9G6hGrX57tm2umYmf3N7qxt9iSf/Z35/c75/s7Zmd2d2VgsAkskEqXQAbsjkEtKoLUL2qE0Ks2MdSjmEsj6YF2mgmistbQYEg2Z6kWSTyHl0K+KLOtmLE9XnNwykIZt0i5LVy+yPIqotytyjK/xp4XdhJyp8MqhY7vnw2pFGk8VxfDLrsY13uV4tOmGioU74GXao9hUK/I4Nj/jVZVj7pzppuScdeR5uadNtSKNo5Ii6PGqyDV3ONXGxB9y5XgdfmGyKJVW5OtsetCrGo85fZls8iuAtY2gGBM74KeTlXkqKoT3JpVZMV8ZK93FMFcBvVaMyaDf1VFunawds9l2k6pcMZ0cz7WLwp8DmgtrNbZGqJFdNsA2GGeaSOwjSMdaSNJnexLIT8cehqhzLBtUw/oYL7qsZF1wCgJvuVhfDZnYbZJFJrYqqFmES+AkqCdZrxptS7pDL79xb8AaLzHmG4ZCc+Zd9KmtiooaQT04rU2N1jtnXL4anm+L4s8CvxsEV2pWD3+qFkdd8zi+HrDjhQKCg675zay/QOAEjMffC8Z3O8Rmy8YgvEc1wXH8l7AlYLMHcQIrCGgJCLKXPuDoq322PZHj8SP794PJrWGlGtVZ7YIpkI/WTVPTC+Lx+ABOUz52aPXUpB51NmU3/w55+XpLXcX1wuWr67xDfh5aCWe0M9momqPZZoZ/7kfTaLyPnCfwHN7AW9Cb2AO9FvpSmwATYTLoJmUB6KdsCSyDQsjUWmky2ZNT7Cqq6TaqxhrhHjxG/AdjKvvkCLjv8PWm66dsJVTBVlgK6Zh6Gm6I67+aMPaO4COwcLhS9EfssQiOQjuEMe//mlBoNVBpJmYH/L/HJeu9Y089Hu4EkweCVt+3HIFa8LPPLOyDwc+1r1CWF1QD7AfV5Ge1vmWQob8uvewakzN8E3O0QE0zwe8ed3FgWSQ+BdsGcOoCE3K8SH06u8dAtdr2LGVZRNZZ0d8Yq1MmjJAAaq2B71btqU8OgbocLsPyEdKDcRnUvAKuwOAjnHFyvgT+ARdTaRFf71NJAAAAAElFTkSuQmCC);
                background-repeat: no-repeat;
                background-size: 70%;
                background-position: center;
                overflow:hidden;
                -webkit-border-radius:50%;
                -moz-border-radius:50%;
                border-radius: 50%;
                width: 30px;
                height: 30px;
                background-color: rgb(0, 0, 0) !important;
            }
            .circle-tail {
                background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAmCAYAAACGeMg8AAAAAXNSR0IArs4c6QAABA1JREFUWAndmUloVEEQhh2jxl1I3EVRDAhBVIy4K6KXKIqKEFQQPHrQowieBAWPggYSVCIENG5404tLIBIXREUQFZdDIgkaDAhZTUji90/s4c2b12+ZN+LEgj/dXfVXdVX6Ld1vEqN8ZGhoaCLm7WAVGAB94CW4n0gk1I8tzDGJILtABVgNpoIE+AJegOugnvkGaaMJwYtADegCXtKEcne0qJlsYhwGP70mcOmaGR/IjOCjwaEctLgCeQ0HUR7xCWU14TcW3PEKGqB7gL3IGtgYIO0HSjCs9EEsM/5hW3yqwk7gwXuHboF1LoybQK+HY5DqnjWoh4FgBywBO9DfBQ3gu4Vj1G/p6P5NF5QTQKthRWwH4M9Jj2gfwdV/1ClKugIUGi/648BJ0ANsUmv4qRbmcRs7pP5QKphPh1gLXfE6GZfaXLAddPHdww0pXyyq/oebEXF8IRXQp0PMLa64l3zoSRP8WpePc9hg/EfT2QiKjSLLVs//MKJ3kVM+OQeWfrVFL7Xu6+SKqpByH2JY00oCTgtBfgWn18Fb5+h7dnkRPsHQ42kcVu5Xo0LWDI9j/R2D97agCCTVBeeig7eHf8AZsAhsAI/ATIfddLtNx6MdXggcP4JcyC2PSTJUTDQRvLZMWJ/hgAKu3z3cjb1AJD2/cyF6DC/2SsStgzcZVIJ2IOkHl0DGaqBbAYKkRIVk8xK0Bb7iTtpvTJACMF2tjYftNAiSMhXSFsSKaN9pSyqqnnlLgG3j6kxrs272jqgTBPAvM8OiAE6gmRjagtSCzK1IpnenCvmcqY+lmYX3ExJZnm0UfLXDfQgCH89/5mhSIW/+DHLZzCbYYxI6AcZHCQx/L3wd3taG9Ovisd6ueyRoPwMlluhQpIJKbIlh06Z1H9B5I6q8VdwEXjNovwGtzt+WD0zwETQDvRx1Gc4F2vzpyJuNVLIix3Q21qo00GzKJkoe+GylkHqzCnV5kFA2KbTjpEVIXU419FulGGFym9VI7qiTK8LgFwWcHWFF6HNUKmdzaakGHXJa1BkhUs0CNJlckze7GXDTV9C/YcZ53HaS22IKaTM5OldkFIabGM4bYx63R51FeObJqujjmbYY+SpVXomnXVqGQAXz6D8F840uT9rn5LGZ1dCNniZpl5axQNRNvx68N7o8aBvJYadXEYG5sTLF4FkeXGPXyaEwMGE/AgEmgbp/VEwf854CnreAX95WG8G0Ow36JgslZ6LvwEusCcUxEFjn62sgyhd76JGkEfaOOHmG9mWiZeAq0KeYXIg+95wDpaGTcBFjXXtMPIV4+tlMTzj9PKfjbZgTYT88PUofAB1pn/M0ki5riVWIe1YK0xfHpUDvn8lAhyW1Y4F2119BM2iJmzgx/k/5Df9wbDjzje2YAAAAAElFTkSuQmCC);
                background-repeat: no-repeat;
                background-size: 60%;
                background-position: center;
                overflow:hidden;
                -webkit-border-radius:50%;
                -moz-border-radius:50%;
                border-radius: 50%;
                width: 30px;
                height: 30px;
                background-color: rgb(0, 0, 0) !important;
            }
            .changebg {
                background-color: #D9D9D9;
            }
        </style>
    </head>
<script>
    var classGeneMap = {"0000": "beast", "0001": "bug", "0010": "bird", "0011": "plant", "0100": "aquatic", "0101": "reptile", "1000": "???", "1001": "???", "1010": "???"};
    var typeOrder = {"patternColor": 1, "eyes": 2, "mouth": 3, "ears": 4, "horn": 5, "back": 6, "tail": 7};
    var geneColorMap = {"0000": {"0010": "ffec51","0011": "ffa12a","0100": "f0c66e", "0110": "60afce"},
    "0001": {"0010": "ff7183", "0011": "ff6d61", "0100": "f74e4e",},
    "0010": {"0010": "ff9ab8", "0011": "ffb4bb","0100": "ff778e"},
    "0011": {"0010": "ccef5e", "0011": "efd636","0100": "c5ffd9"},
    "0100": {"0010": "4cffdf", "0011": "2de8f2","0100": "759edb", "0110": "ff5a71"},
    "0101": {"0010": "fdbcff", "0011": "ef93ff","0100": "f5e1ff", "0110": "43e27d"},
    //?
    "1000": {"0010": "D9D9D9", "0011": "D9D9D9","0100": "D9D9D9", "0110": "D9D9D9"},
    //?
    "1001": {"0010": "D9D9D9", "0011": "D9D9D9","0100": "D9D9D9", "0110": "D9D9D9"},
    //moon
    "1010": {"0010": "D9D9D9", "0011": "D9D9D9","0100": "D9D9D9", "0110": "D9D9D9"}};

    function strMul(str, num) {
        var s = "";
        for (var i = 0; i < num; i++) {
            s += str;
        }
        return s;
    }

    function genesToBin(genes) {
        var genesString = genes.toString(2);
        genesString = strMul("0", 256 - genesString.length) + genesString
        return genesString;
    }

    function weakEscape(str) {
        return str.replace(/'/g, "&apos;").replace(/"/g, "&quot;").replace(/</g, '&lt;').replace(/>/g, "&gt;");
    }

    function setError(msg) {
        //TODO
        alert(msg);
    }

    var regionMap = {"0": "global", "1": "japan"};
    function getRegionFromGroup(group) {
        let rBit = group.slice(12,13);
        if (rBit in regionMap) {
            return regionMap[rBit];
        }
        return "Unknown Region";
    }

    function getClassFromGroup(group) {
        let bin = group.slice(0, 4);
        if (!(bin in classGeneMap)) {
            return "Unknown Class";
        }
        return classGeneMap[bin];
    }

    function getPatternsFromGroup(group) {
        //patterns could be 6 bits. use 4 for now
        return {d: group.slice(4, 8), r1: group.slice(10, 14), r2: group.slice(16, 20)};
    }

    function getColor(bin, cls) {
        let color;
        if (bin == "0000") {
            color = "ffffff";
        } else if (bin == "0001") {
            color = "7a6767";
        } else {
            color = geneColorMap[cls][bin];
        }
        return color;
    }

    function getColorsFromGroup(group, cls) {
        return {d: getColor(group.slice(20, 24), cls), r1: getColor(group.slice(24, 28), cls), r2: getColor(group.slice(28, 32), cls)};
    }

    function getPartID(cls, part, region, binary) {
        let trait;
        if (binary in binarytraits[cls][part]) {
            if (region in binarytraits[cls][part][binary]) {
                trait = binarytraits[cls][part][binary][region];
            } else if ("global" in binarytraits[cls][part][binary]) {
                trait = binarytraits[cls][part][binary]["global"];
            } else {
                setError("Unknown region for " + part + ": " + binary);
                return;
            }
        } else {
            setError("Unknown trait: " + part + ", " + binary);
            return;
        }
        //return part + "-" + trait.toLowerCase().replace(/\s/g, "-");
        return trait;
    }

    function getPartsFromGroup(part, group, region) {
        let dClass = classGeneMap[group.slice(2, 6)];
        let dBin = group.slice(6, 11);
        let dID = getPartID(dClass, part, region, dBin);

        let r1Class = classGeneMap[group.slice(12, 16)];
        let r1Bin = group.slice(16, 21);
        let r1ID = getPartID(r1Class, part, region, r1Bin);

        let r2Class = classGeneMap[group.slice(22, 26)];
        let r2Bin = group.slice(26, 31);
        let r2ID = getPartID(r2Class, part, region, r2Bin);

        return {d: dID, r1: r1ID, r2: r2ID};
    }

    function getTraits(genes) {
        var groups = [genes.slice(0, 32), genes.slice(32, 64), genes.slice(64, 96), genes.slice(96, 128), genes.slice(128, 160), genes.slice(160, 192), genes.slice(192, 224), genes.slice(224, 256)];
        let cls = getClassFromGroup(groups[0]);
        let region = getRegionFromGroup(groups[0]);
        let pattern = getPatternsFromGroup(groups[1]);
        let color = getColorsFromGroup(groups[1], groups[0].slice(0, 4));
        let eyes = getPartsFromGroup("eyes", groups[2], region);
        let mouth = getPartsFromGroup("mouth", groups[3], region);
        let ears = getPartsFromGroup("ears", groups[4], region);
        let horn = getPartsFromGroup("horn", groups[5], region);
        let back = getPartsFromGroup("back", groups[6], region);
        let tail = getPartsFromGroup("tail", groups[7], region);
        return {cls: cls, region: region, pattern: pattern, color: color, eyes: eyes, mouth: mouth, ears: ears, horn: horn, back: back, tail: tail};
    }

    function getAxie(id, callback) {
        $.get({url: "https://axieinfinity.com/api/axies/" + parseInt(id)}, function(data, status, xhr) {
            if (data.stage < 3) {
                callback(null);
                return;
            }
            var axie = {"genes": genesToBin(new BigNumber(data.genes))}; //, "owner": data.owner, "class": data.class, "exp": data.exp};
            if (callback != null) {
                callback(axie);
            }
        });
    }

    function getTypeImage(type) {
        return '<div class ="circle-' + type + '"></div>';
    }

    function init() {
        $.ajax({
            url: "../header.html",
            cache: false,
            dataType: "html",
            success: function(data) {
                $("#headerDiv").html(data);
            }
        });
        let sireId = parseInt(getQueryParameter("sireId"));
        let matronId = parseInt(getQueryParameter("matronId"));
        if (sireId && matronId) {
            $("#sireId").val(sireId);
            $("#matronId").val(matronId);
            calc(sireId, matronId);
        }
    }

    function getQueryParameter(name) {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split("=");
            if(pair[0] == name) {
                return pair[1];
            }
        }
        return false;
    }

    $(document).ready(function(){
        init();
    });

    const PROBABILITIES = {d: 37.5, r1: 9.375, r2: 3.125};
    function sumProbs(sireTraits, matronTraits) {
        let probs = {};
        for (let place in sireTraits) {
            if (sireTraits[place] in probs) {
                probs[sireTraits[place]] += PROBABILITIES[place];
            } else {
                probs[sireTraits[place]] = PROBABILITIES[place];
            }
        }
        for (let place in matronTraits) {
            if (matronTraits[place] in probs) {
                probs[matronTraits[place]] += PROBABILITIES[place];
            } else {
                probs[matronTraits[place]] = PROBABILITIES[place];
            }
        }
        return probs;
    }

    var patternMap = {"0001": "greyfuzzy","0010": "(0, 0, 64, 130)", "0011": "(0, 0, 61, 107)", "0100": "(0, 0, 82, 74)", "0101": "(0, 0, 66, 101)", "0110": "(0, 0, 51, 134)", "0111": "(0, 0, 57, 117)", "1000": "(0, 0, 59, 67)", "1001": "(0, 0, 51, 104)", "1010": "(0, 0, 63, 131)", "1011": "(0, 0, 73, 153)", "1100": "(0, 0, 78, 127)", "1101": "(0, 0, 63, 99)", "1110": "(0, 0, 65, 55)"};
    function renderProbs(trait, probs) {
        let sorted = [];
        for (let p in probs) {
            sorted.push([p, probs[p]]);
        }
        sorted.sort(function(a, b) {
            return b[1] - a[1];
        });

        let capitalized = trait[0].toUpperCase() + weakEscape(trait.substr(1));
        let out = '<div class="card text-dark mb-3 col-5">';
        if (trait in ["pattern", "color"]) {
            '<div class="card-header"><div class="col-12">' + capitalized + "</div></div>";
        } else {
            out += '<div class="card-header row"><div class="col-5">' + capitalized + '</div><div class="col-6">' + getTypeImage(trait) + '</div></div>';
        }
        for(let i in sorted) {
            out += '<div class="row mb-2">';
            let partName = weakEscape(sorted[i][0]);
            let percentage = sorted[i][1];
            if (trait == "pattern") {
                let pattern = patternMap[sorted[i][0]];
                out += '<div class="col-5 mt-1 mb-2"><img height="40" class="changebg" src="colors/' + pattern + '-pattern.png"></div><div class="col-6">' + percentage + "%</div>";
            } else if (trait == "color") {
                let color = sorted[i][0];
                out += '<div class="col-5 mt-1 mb-1"><img width="25" src="colors/' + color + '-body.png"></div><div class="col-6">' + percentage + "%</div>";
            } else {

                out += '<div class="col-5">' + partName + '</div><div class="col-6">' + percentage + "%</div>";
            }
            out += '</div>';
        }
        $("#result").append(out + "</div><br>");
    }

    function calc(sireId, matronId) {
        if (!sireId || !matronId) {
            setError("Invalid axie ID");
            return;
        }
        getAxie(sireId, function(sire) {
            if (!sire) {
                $("#result").text(sireId + " has no genes");
                return;
            }
            getAxie(matronId, function(matron) {
                let sireTraits = getTraits(sire.genes);
                let matronTraits = getTraits(matron.genes);

                let patternProbs = sumProbs(sireTraits.pattern, matronTraits.pattern);
                let colorProbs = sumProbs(sireTraits.color, matronTraits.color);
                let eyesProbs = sumProbs(sireTraits.eyes, matronTraits.eyes);
                let mouthProbs = sumProbs(sireTraits.mouth, matronTraits.mouth);
                let earsProbs = sumProbs(sireTraits.ears, matronTraits.ears);
                let hornProbs = sumProbs(sireTraits.horn, matronTraits.horn);
                let backProbs = sumProbs(sireTraits.back, matronTraits.back);
                let tailProbs = sumProbs(sireTraits.tail, matronTraits.tail);

                renderProbs("eyes", eyesProbs);
                renderProbs("ears", earsProbs);
                renderProbs("mouth", mouthProbs);
                renderProbs("horn", hornProbs);
                renderProbs("back", backProbs);
                renderProbs("tail", tailProbs);
                renderProbs("pattern", patternProbs);
                renderProbs("color", colorProbs);
            });
        })
    }

</script>
    <!-- header -->
    <div id="headerDiv"></div><br/>
    <div id="mainDiv" class="container">
        <form class="" action="">
            <div class="form-group col-4">
                <label for="sireId">Axie Dad ID</label>
                <input type="text" class="form-control" id="sireId" name="sireId" placeholder="Axie Dad ID">
            </div>
            <div class="form-group col-4">
                <label for="matronId">Axie Mom ID</label>
                <input type="text" class="form-control" id="matronId" name="matronId" placeholder="Axie Mom ID">
            </div>
            <div class="pl-3">
                <input type="submit" value="Calculate" class="btn btn-primary" id="calcButton"></input>
            </div>
        </form>
        <br>
        <div id="result" class="ml-3">
            <div>
            </div>
        </div>
    </div>
    <br><br><br>
    <div class="container text-white small">Disclaimer: This calculator does not use the same forumla as the Axie gene contract, so they could be wrong! Also, I am not sure if the numbers for pattern, color and inter-regional part breeding differ from the normal parts.</div>
    <br>
</html>